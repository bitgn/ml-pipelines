syntax = "proto3";


import "vo.proto";


message ProjectCreated{
    string project_id = 1;
    ProjectMetadataDelta meta = 2;
}


message DatasetCreated{
    string dataset_id = 1;
    string project_id = 2;
    DatasetMetadataDelta meta = 4;
}

message DatasetUpdated {
    string dataset_id = 1;
    string project_id = 2;
    DatasetMetadataDelta meta = 3;
}



message JobAdded {
    string job_id = 1;
    string job_name = 2;

    repeated string inputs = 3;
    repeated string outputs = 4;

    string project_id = 5;
}


message ServiceCreated {
    string service_id = 1;
    string project_id = 2;

    ServiceMetadataDelta meta = 3;
}


message RelationDefined {
    string upstream_id = 1;

}


enum ENTITY {
    NONE = 0;
    DATASET = 1;
    JOB = 2;
    SERVICE = 3;
    MODEL = 4;
}


message ExpertAdded {
    string expert_id = 1;
    string expert_name = 2;
}



enum Type {
    None = 0;
    Event_ProjectCreated = 1;
    Event_DatasetCreated = 2;
    Event_DatasetUpdated = 3;
    Event_ExpertAdded = 4;
    Event_JobAdded = 5;
    Event_ServiceCreated = 6;
}


message Event {
    bytes Body = 1;
    Type Type = 2;
}


